"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[792],{8450:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(5861),a=n(9439),c=n(4687),u=n.n(c),o=n(2791),i=n(8096),s=n(2738),p=n(6151),l=n(184);function f(e){var t=e.onSubmit,n=(0,o.useState)(""),r=(0,a.Z)(n,2),c=r[0],u=r[1];return(0,l.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(c),u("")},children:(0,l.jsxs)(i.Z,{sx:{width:"500px",height:"40px",flexDirection:"row",gap:"10px"},children:[(0,l.jsx)(s.Z,{placeholder:"Please enter movie name",type:"text",name:"query",value:c,autoComplete:"off",autoFocus:!0,color:"primary",onChange:function(e){u(e.target.value.toLowerCase())}}),(0,l.jsx)(p.Z,{type:"submit",variant:"outlined",color:"primary",size:"medium",children:"Search"})]})})}var h=n(8221),d=n(1087),v=n(7689),m=n(8009),x=n(3614),y=n(8905),g=n(2627),Z=n(3126),w=n(8054),k=function(){var e,t=(0,d.lr)({}),n=(0,a.Z)(t,2),c=n[0],i=n[1],s=(0,o.useState)([]),p=(0,a.Z)(s,2),k=p[0],b=p[1],j=(0,o.useState)(null),_=(0,a.Z)(j,2),S=_[0],q=_[1],C=(0,o.useState)(""),E=(0,a.Z)(C,2),P=E[0],D=E[1],H=null!==(e=c.get("query"))&&void 0!==e?e:"",T=(0,v.TH)();return(0,o.useEffect)((function(){if(!H)return b([]),void D("");function e(){return(e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.ld)(H);case 3:if((t=e.sent).total_results){e.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again");case 6:b(t.results),D("resolved"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),q(e.t0),D("rejected");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),D("pending"),q(null)}),[H]),(0,l.jsxs)(w.$,{children:[(0,l.jsx)(f,{onSubmit:function(e){if(!e.trim())return m.Am.error("Enter a query to search!"),void i({});i({query:e})}}),"pending"===P&&(0,l.jsx)(x.a,{}),"resolved"===P&&(0,l.jsx)(y.E,{children:k.map((function(e){var t=e.id,n=e.title;return(0,l.jsx)(g.Z,{component:d.rU,to:"".concat(t),state:{from:T},divider:!0,disableGutters:!0,children:(0,l.jsx)(Z.Z,{primary:n})},t)}))}),"rejected"===P&&(0,l.jsx)("h1",{children:S.message})]})}},8221:function(e,t,n){n.d(t,{Hg:function(){return p},Jh:function(){return m},TP:function(){return d},YQ:function(){return s},_r:function(){return y},ld:function(){return f}});var r=n(5861),a=n(4687),c=n.n(a),u=n(1243),o="f5c750e62498ce7d84b29e02e1f941bc",i="https://api.themoviedb.org/3",s="https://image.tmdb.org/t/p/original/";function p(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.prev=1,e.next=4,u.Z.get("".concat(i,"/trending/movie/day"),{params:{api_key:"".concat(o),page:t}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),l.apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.prev=1,e.next=4,u.Z.get("".concat(i,"/search/movie"),{params:{api_key:"".concat(o),query:t}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),h.apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t),{params:{api_key:"".concat(o)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t,"/credits"),{params:{api_key:"".concat(o)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t,"/reviews"),{params:{api_key:"".concat(o)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},8054:function(e,t,n){n.d(t,{$:function(){return c}});var r,a=n(168),c=n(7691).ZP.section(r||(r=(0,a.Z)(["\n    padding: 30px 0;\n"])))},8905:function(e,t,n){n.d(t,{E:function(){return c}});var r,a=n(168),c=n(7691).ZP.div(r||(r=(0,a.Z)(["\n    margin: 30px 0;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    justify-content: center;\n    align-content: center;\n"])))}}]);
//# sourceMappingURL=792.27c8bf55.chunk.js.map