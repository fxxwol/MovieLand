"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[792],{8450:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(5861),a=r(9439),c=r(4687),u=r.n(c),o=r(2791),i=r(8096),s=r(2738),p=r(6151),l=r(184);function f(e){var t=e.onSubmit,r=(0,o.useState)(""),n=(0,a.Z)(r,2),c=n[0],u=n[1];return(0,l.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(c),u("")},children:(0,l.jsxs)(i.Z,{sx:{width:"500px",height:"40px",flexDirection:"row",gap:"10px"},children:[(0,l.jsx)(s.Z,{placeholder:"Please enter movie name",type:"text",name:"query",value:c,autoComplete:"off",autoFocus:!0,color:"primary",onChange:function(e){u(e.target.value.toLowerCase())}}),(0,l.jsx)(p.Z,{type:"submit",variant:"outlined",color:"primary",size:"medium",children:"Search"})]})})}var h=r(8221),v=r(1087),d=r(7689),m=r(8009),x=r(3614),y=r(8905),g=r(2627),w=r(3126),Z=function(){var e,t=(0,v.lr)({}),r=(0,a.Z)(t,2),c=r[0],i=r[1],s=(0,o.useState)([]),p=(0,a.Z)(s,2),Z=p[0],k=p[1],b=(0,o.useState)(null),j=(0,a.Z)(b,2),_=j[0],S=j[1],q=(0,o.useState)(""),C=(0,a.Z)(q,2),E=C[0],P=C[1],D=null!==(e=c.get("query"))&&void 0!==e?e:"",F=(0,d.TH)();return(0,o.useEffect)((function(){if(!D)return k([]),void P("");function e(){return(e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.ld)(D);case 3:if((t=e.sent).total_results){e.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again");case 6:k(t.results),P("resolved"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),S(e.t0),P("rejected");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),P("pending"),S(null)}),[D]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{onSubmit:function(e){if(!e.trim())return m.Am.error("Enter a query to search!"),void i({});i({query:e})}}),"pending"===E&&(0,l.jsx)(x.a,{}),"resolved"===E&&(0,l.jsx)(y.E,{children:Z.map((function(e){var t=e.id,r=e.title;return(0,l.jsx)(g.Z,{component:v.rU,to:"".concat(t),state:{from:F},divider:!0,disableGutters:!0,children:(0,l.jsx)(w.Z,{primary:r})},t)}))}),"rejected"===E&&(0,l.jsx)("h1",{children:_.message})]})}},8221:function(e,t,r){r.d(t,{Hg:function(){return p},Jh:function(){return m},TP:function(){return v},YQ:function(){return s},_r:function(){return y},ld:function(){return f}});var n=r(5861),a=r(4687),c=r.n(a),u=r(1243),o="f5c750e62498ce7d84b29e02e1f941bc",i="https://api.themoviedb.org/3",s="https://image.tmdb.org/t/p/original/";function p(){return l.apply(this,arguments)}function l(){return l=(0,n.Z)(c().mark((function e(){var t,r,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.prev=1,e.next=4,u.Z.get("".concat(i,"/trending/movie/day"),{params:{api_key:"".concat(o),page:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),l.apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return h=(0,n.Z)(c().mark((function e(){var t,r,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.prev=1,e.next=4,u.Z.get("".concat(i,"/search/movie"),{params:{api_key:"".concat(o),query:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),h.apply(this,arguments)}function v(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t),{params:{api_key:"".concat(o)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t,"/credits"),{params:{api_key:"".concat(o)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"/movie/").concat(t,"/reviews"),{params:{api_key:"".concat(o)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},8905:function(e,t,r){r.d(t,{E:function(){return c}});var n,a=r(168),c=r(7691).ZP.div(n||(n=(0,a.Z)(["\n    margin: 30px 0;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    justify-content: center;\n    align-content: center;\n"])))}}]);
//# sourceMappingURL=792.a094417d.chunk.js.map