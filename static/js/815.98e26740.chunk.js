"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[815],{8186:function(n,e,t){t.d(e,{Z:function(){return C}});var r,a,i,o=t(2791),c=t(8905),u=t(1413),s=t(9439),p=t(8075),l=t(3774),h=t(7689),d=t(1087),f=t(8221),g=t(168),x=t(7691),m=t(2004),v=t(1118),Z=t(7047),w=(m.A._,m.A.mobileL),y=m.A.tablet,b=m.A.desktop,k=(0,x.ZP)(v.Z)(r||(r=(0,g.Z)(["\n  width: calc((100% - 8px));\n  max-width: 264px;\n\n  &.MuiListItemButton-root {\n    flex-grow: unset;\n    -webkit-flex-grow: unset;\n    transition: all 250ms ease-in-out 0ms;\n  }\n\n  &:hover,\n  :focus {\n    transform: scale(1.02);\n  }\n\n  @media "," {\n    width: calc((100% - 16px) / 3);\n    max-width: 156px;\n  }\n  @media "," {\n    width: calc((100% - 24px) / 4);\n    max-width: 200px;\n  }\n"])),w,y),j=x.ZP.img(a||(a=(0,g.Z)(["\n  width: 100%;\n  height: 400px;\n  display: block;\n  object-fit: cover;\n  flex-shrink: 0;\n\n  @media "," {\n    height: 220px;\n  }\n\n  @media "," {\n    height: 280px;\n  }\n  @media "," {\n    height: 300px;\n  }\n"])),w,y,b),_=(0,x.ZP)(Z.Z)(i||(i=(0,g.Z)(["\n  &.MuiSkeleton-root {\n    width: 100%;\n    height: 400px;\n\n    @media "," {\n      height: 220px;\n    }\n\n    @media "," {\n      height: 280px;\n    }\n    @media "," {\n      height: 300px;\n    }\n  }\n"])),w,y,b),S=t(184);var A=function(n){var e=n.id,r=n.poster_path,a=n.title,i=n.path,c=(0,h.TH)(),g=(0,o.useState)(!0),x=(0,s.Z)(g,2),m=x[0],v=x[1];return(0,S.jsxs)(k,{component:d.rU,to:i(e),state:{from:c},sx:{padding:"0","&.MuiListItemButton-root":{display:"block"}},children:[m&&(0,S.jsx)(_,{variant:"rectangular",animation:"wave"}),(0,S.jsxs)(p.Z,{sx:(0,u.Z)({width:"100%",position:"unset"},m&&{position:"absolute",width:"0px",height:"0px",margin:" -1px",border:0,padding:0,overflow:"hidden"}),children:[(0,S.jsx)(j,{src:"".concat(r?f.YQ+r:t(3465)),alt:a,loading:"lazy",onLoad:function(){v(!1)}}),(0,S.jsx)(l.Z,{title:a,sx:{textAlign:"center",background:"rgba(0, 0, 0, 0.7)"}})]})]},e)};var C=function(n){var e=n.movies,t=n.path,r=n.filtered;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(c.E,{children:r.length?r.map((function(n){var e=n.id,r=n.title,a=n.poster_path;return(0,S.jsx)(A,{id:e,title:r,poster_path:a,path:t},e)})):e.map((function(n){var e=n.id,r=n.title,a=n.poster_path;return(0,S.jsx)(A,{id:e,title:r,poster_path:a,path:t},e)}))})})}},5249:function(n,e,t){var r=t(5678),a=t(2279),i=t(5299),o=t(4554),c=t(9877),u=t(2791),s=t(184);e.Z=function(){var n=(0,a.Z)({threshold:400}),e=(0,u.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]);return(0,s.jsx)(i.Z,{in:n,children:(0,s.jsx)(o.Z,{role:"presentation",sx:{position:"fixed",bottom:32,right:32,zIndex:1},children:(0,s.jsx)(c.Z,{onClick:e,color:"primary",size:"small","aria-label":"Scroll back to top",sx:{borderRadius:"6px",background:"#08b508da",width:"40px",height:"35px","&:hover > .MuiSvgIcon-root":{color:"#fffefed2"}},children:(0,s.jsx)(r.Z,{fontSize:"large",sx:{color:"#161616d3",trasition:"225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}})})})})}},815:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r=t(5861),a=t(9439),i=t(4687),o=t.n(i),c=t(5193),u=t(6314),s=t(7246),p=t(2791),l=t(8221),h=t(184);var d,f=function(n){var e=n.onChange,t=(0,p.useState)([]),i=(0,a.Z)(t,2),c=i[0],u=i[1];return(0,p.useEffect)((function(){var n=function(){var n=(0,r.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.JZ)();case 2:e=n.sent,u(e.genres);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("select",{onChange:function(n){return e(n.target.value)},children:[(0,h.jsx)("option",{value:"",children:"Genre"}),c.map((function(n){var e=n.id,t=n.name;return(0,h.jsx)("option",{value:e,children:t},e)}))]})})},g=t(3614),x=t(8186),m=t(5249),v=t(4942),Z=t(8096),w=t(6151),y=t(168),b=t(7925),k=(0,t(7691).ZP)(b.Z)(d||(d=(0,y.Z)(["\n  width: 90%;\n  height: 100%;\n  &.MuiOutlinedInput-root {\n    border-color: #000;\n    border-width: 2px;\n    transition: border-color 0.3s;\n  }\n\n  &&:hover .MuiOutlinedInput-notchedOutline {\n    border-color: #02c342;\n  }\n\n  &&.Mui-focused .MuiOutlinedInput-notchedOutline {\n    border-color: #02c342;\n    border-width: 1px;\n  }\n"]))),j=t(2004);function _(n){var e,t=n.onSubmit,r=n.onChange,i=(0,p.useState)(""),o=(0,a.Z)(i,2),c=o[0],u=o[1],s=(j.A._,j.A.mobileL,j.A.tablet),l=j.A.desktop;return(0,h.jsx)("form",{onSubmit:function(n){n.preventDefault(),t(c),u("")},children:(0,h.jsxs)(Z.Z,{sx:(e={width:"90%",display:"flex",margin:"0 auto",height:"40px",flexDirection:"row",gap:"10px",justifyContent:"center",alignItems:"center"},(0,v.Z)(e,"@media ".concat(s),{width:"80%"}),(0,v.Z)(e,"@media ".concat(l),{width:"50%"}),e),children:[(0,h.jsx)(k,{placeholder:"Please enter movie name",type:"text",name:"query",value:c,autoComplete:"off",autoFocus:!0,color:"primary",onChange:function(n){u(n.target.value.toLowerCase()),r([])}}),(0,h.jsx)(w.Z,{type:"submit",variant:"outlined",color:"primary",size:"medium",children:"Search"})]})})}var S=t(1087),A=t(5985),C=t(4403),I=function(){var n,e,t,i=(0,S.lr)({}),d=(0,a.Z)(i,2),v=d[0],Z=d[1],w=(0,p.useState)([]),y=(0,a.Z)(w,2),b=y[0],k=y[1],I=(0,p.useState)([]),M=(0,a.Z)(I,2),q=M[0],L=M[1],P=(0,p.useState)(null),z=(0,a.Z)(P,2),E=z[0],F=z[1],O=(0,p.useState)(""),B=(0,a.Z)(O,2),J=B[0],T=B[1],D=(0,p.useState)(1),H=(0,a.Z)(D,2),Q=H[0],R=H[1],U=null!==(n=v.get("query"))&&void 0!==n?n:"",Y=null!==(e=v.get("page"))&&void 0!==e?e:1,G=null!==(t=v.get("genreId"))&&void 0!==t?t:"",$=0,K=(0,c.Z)(j.r.breakpoints.down("lg"))?"small":"large";(0,p.useEffect)((function(){if(!U)return k([]),void T("");function n(){return(n=(0,r.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.ld)(U,Y);case 3:if((e=n.sent).total_results){n.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again");case 6:k(e.results),R(e.total_pages),T("resolved"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),F(n.t0),T("rejected");case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),T("pending"),F(null)}),[U,Y]),(0,p.useEffect)((function(){G&&(L(b.filter((function(n){return n.genre_ids.includes(+G)}))),R(Math.ceil(q.length/20)))}),[G,b,q.length]);return(0,h.jsxs)(C.$,{children:[(0,h.jsx)(_,{onSubmit:function(n){if(!n.trim())return A.Am.error("Enter a query to search!"),void Z({});$?Z({query:n,page:1,genreId:$}):(L([]),Z({query:n,page:1}))},onChange:k}),(0,h.jsx)(f,{onChange:function(n){n&&(b.length&&(Z({query:U,page:Y,genreId:n}),L(b.filter((function(n){return n.genre_ids.includes(+G)}))),R(Math.ceil(q.length/20))),$=n)}}),"pending"===J&&(0,h.jsx)(g.a,{}),"resolved"===J&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.Z,{movies:b,filtered:q,path:function(n){return"".concat(n)}}),b.length?(0,h.jsx)(u.Z,{spacing:2,alignItems:"center",children:(0,h.jsx)(s.Z,{count:Q,shape:"rounded",showFirstButton:!0,showLastButton:!0,page:+Y,size:K,color:"opacity",onChange:function(n,e){Z({query:U,page:e})}})}):(0,h.jsx)(h.Fragment,{})]}),"rejected"===J&&(0,h.jsx)("h1",{children:E.message}),(0,h.jsx)(m.Z,{})]})}},8221:function(n,e,t){t.d(e,{Hg:function(){return s},JZ:function(){return k},Jh:function(){return g},Jx:function(){return y},TP:function(){return d},YQ:function(){return u},_r:function(){return m},ld:function(){return l},om:function(){return Z}});var r=t(5861),a=t(4687),i=t.n(a),o=t(1243),c="f5c750e62498ce7d84b29e02e1f941bc",u="https://image.tmdb.org/t/p/original/";function s(){return p.apply(this,arguments)}function p(){return p=(0,r.Z)(i().mark((function n(){var e,t,r=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,n.prev=1,n.next=4,o.Z.get("/trending/movie/day",{params:{api_key:"".concat(c),page:e}});case 4:return t=n.sent,n.abrupt("return",t.data);case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])}))),p.apply(this,arguments)}function l(){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(i().mark((function n(){var e,t,r,a=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",t=a.length>1&&void 0!==a[1]?a[1]:1,n.prev=2,n.next=5,o.Z.get("/search/movie",{params:{api_key:"".concat(c),query:e,page:t}});case 5:return r=n.sent,n.abrupt("return",r.data);case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),h.apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/movie/".concat(e),{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/movie/".concat(e,"/credits"),{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function m(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/movie/".concat(e,"/reviews"),{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function Z(n){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/movie/".concat(e,"/videos"),{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function y(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/movie/".concat(e,"/images"),{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function k(n){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/genre/movie/list",{params:{api_key:"".concat(c)}});case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}o.Z.defaults.baseURL="https://api.themoviedb.org/3"},8905:function(n,e,t){t.d(e,{E:function(){return l},o:function(){return h}});var r,a,i=t(168),o=t(7691),c=t(2004),u=(c.A._,c.A.mobileL),s=c.A.tablet,p=c.A.desktop,l=o.ZP.div(r||(r=(0,i.Z)(["\n  margin: 30px 0;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  justify-content: center;\n  align-content: center;\n"]))),h=o.ZP.div(a||(a=(0,i.Z)(["\n  height: 8180px;\n\n  @media "," {\n    height: 1620px;\n  }\n  @media "," {\n    height: 1470px;\n  }\n\n  @media "," {\n    height: 1270px;\n  }\n"])),u,s,p)},3465:function(n,e,t){n.exports=t.p+"static/media/default-poster.42ccfac293cfe8fe887a.jpg"}}]);
//# sourceMappingURL=815.98e26740.chunk.js.map