"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[815],{8186:function(e,n,t){t.d(n,{Z:function(){return C}});var r,a,i,o=t(2791),c=t(8905),s=t(1413),u=t(9439),p=t(8075),l=t(3774),h=t(7689),d=t(1087),f=t(8221),g=t(168),x=t(7691),m=t(2004),v=t(1118),Z=t(7047),w=(m.A._,m.A.mobileL),b=m.A.tablet,y=m.A.desktop,k=(0,x.ZP)(v.Z)(r||(r=(0,g.Z)(["\n  width: calc((100% - 8px));\n  max-width: 264px;\n\n  &.MuiListItemButton-root {\n    flex-grow: unset;\n    -webkit-flex-grow: unset;\n    transition: all 250ms ease-in-out 0ms;\n  }\n\n  &:hover,\n  :focus {\n    transform: scale(1.02);\n  }\n\n  @media "," {\n    width: calc((100% - 16px) / 3);\n    max-width: 156px;\n  }\n  @media "," {\n    width: calc((100% - 24px) / 4);\n    max-width: 200px;\n  }\n"])),w,b),j=x.ZP.img(a||(a=(0,g.Z)(["\n  width: 100%;\n  height: 400px;\n  display: block;\n  object-fit: cover;\n  flex-shrink: 0;\n\n  @media "," {\n    height: 220px;\n  }\n\n  @media "," {\n    height: 280px;\n  }\n  @media "," {\n    height: 300px;\n  }\n"])),w,b,y),_=(0,x.ZP)(Z.Z)(i||(i=(0,g.Z)(["\n  &.MuiSkeleton-root {\n    width: 100%;\n    height: 400px;\n\n    @media "," {\n      height: 220px;\n    }\n\n    @media "," {\n      height: 280px;\n    }\n    @media "," {\n      height: 300px;\n    }\n  }\n"])),w,b,y),S=t(184);var A=function(e){var n=e.id,r=e.poster_path,a=e.title,i=e.path,c=(0,h.TH)(),g=(0,o.useState)(!0),x=(0,u.Z)(g,2),m=x[0],v=x[1];return(0,S.jsxs)(k,{component:d.rU,to:i(n),state:{from:c},sx:{padding:"0","&.MuiListItemButton-root":{display:"block"}},children:[m&&(0,S.jsx)(_,{variant:"rectangular",animation:"wave"}),(0,S.jsxs)(p.Z,{sx:(0,s.Z)({width:"100%",position:"unset"},m&&{position:"absolute",width:"0px",height:"0px",margin:" -1px",border:0,padding:0,overflow:"hidden"}),children:[(0,S.jsx)(j,{src:"".concat(r?f.YQ+r:t(3465)),alt:a,loading:"lazy",onLoad:function(){v(!1)}}),(0,S.jsx)(l.Z,{title:a,sx:{textAlign:"center",background:"rgba(0, 0, 0, 0.7)"}})]})]},n)};var C=function(e){var n=e.movies,t=e.filtered,r=void 0===t?[]:t,a=e.path,i=e.wasFiltered,o=e.isFiltering;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(c.E,{children:i&&!o?r.length?r.map((function(e){var n=e.id,t=e.title,r=e.poster_path;return(0,S.jsx)(A,{id:n,title:t,poster_path:r,path:a},n)})):(0,S.jsx)("h1",{children:"There is no movie with this genre"}):n.map((function(e){var n=e.id,t=e.title,r=e.poster_path;return(0,S.jsx)(A,{id:n,title:t,poster_path:r,path:a},n)}))})})}},5249:function(e,n,t){var r=t(5678),a=t(2279),i=t(5299),o=t(4554),c=t(9877),s=t(2791),u=t(184);n.Z=function(){var e=(0,a.Z)({threshold:400}),n=(0,s.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]);return(0,u.jsx)(i.Z,{in:e,children:(0,u.jsx)(o.Z,{role:"presentation",sx:{position:"fixed",bottom:32,right:32,zIndex:1},children:(0,u.jsx)(c.Z,{onClick:n,color:"primary",size:"small","aria-label":"Scroll back to top",sx:{borderRadius:"6px",background:"#08b508da",width:"40px",height:"35px","&:hover > .MuiSvgIcon-root":{color:"#fffefed2"}},children:(0,u.jsx)(r.Z,{fontSize:"large",sx:{color:"#161616d3",trasition:"225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}})})})})}},815:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(5861),a=t(9439),i=t(4687),o=t.n(i),c=t(2791),s=t(5193),u=t(6314),p=t(7246),l=t(8221),h=t(184);var d,f=function(e){var n=e.onChange,t=(0,c.useState)([]),i=(0,a.Z)(t,2),s=i[0],u=i[1],p=(0,c.useState)(null),d=(0,a.Z)(p,2),f=d[0],g=d[1];(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.JZ)();case 2:n=e.sent,u(n.genres);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(e){g(e),n(e)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("select",{onChange:function(e){return x(e.target.value)},value:f||"",children:[null===f&&(0,h.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Genre"}),s.map((function(e){var n=e.id,t=e.name;return(0,h.jsx)("option",{value:n,children:t},n)}))]})})},g=t(3614),x=t(8186),m=t(5249),v=t(4942),Z=t(8096),w=t(6151),b=t(168),y=t(7925),k=(0,t(7691).ZP)(y.Z)(d||(d=(0,b.Z)(["\n  width: 90%;\n  height: 100%;\n  &.MuiOutlinedInput-root {\n    border-color: #000;\n    border-width: 2px;\n    transition: border-color 0.3s;\n  }\n\n  &&:hover .MuiOutlinedInput-notchedOutline {\n    border-color: #02c342;\n  }\n\n  &&.Mui-focused .MuiOutlinedInput-notchedOutline {\n    border-color: #02c342;\n    border-width: 1px;\n  }\n"]))),j=t(2004);function _(e){var n,t=e.onSubmit,r=e.onChange,i=e.handleFilter,o=e.isTyping,s=(0,c.useState)(""),u=(0,a.Z)(s,2),p=u[0],l=u[1],d=(j.A._,j.A.mobileL,j.A.tablet),f=j.A.desktop;return(0,h.jsx)("form",{onSubmit:function(e){e.preventDefault(),o(!1),t(p),l("")},children:(0,h.jsxs)(Z.Z,{sx:(n={width:"90%",display:"flex",margin:"0 auto",height:"40px",flexDirection:"row",gap:"10px",justifyContent:"center",alignItems:"center"},(0,v.Z)(n,"@media ".concat(d),{width:"80%"}),(0,v.Z)(n,"@media ".concat(f),{width:"50%"}),n),children:[(0,h.jsx)(k,{placeholder:"Please enter movie name",type:"text",name:"query",value:p,autoComplete:"off",autoFocus:!0,color:"primary",onChange:function(e){l(e.target.value.toLowerCase()),i(),o(!0),r([])}}),(0,h.jsx)(w.Z,{type:"submit",variant:"outlined",color:"primary",size:"medium",children:"Search"})]})})}var S=t(1087),A=t(5985),C=t(4403),F=function(){var e,n,t=(0,S.lr)({}),i=(0,a.Z)(t,2),d=i[0],v=i[1],Z=(0,c.useState)([]),w=(0,a.Z)(Z,2),b=w[0],y=w[1],k=(0,c.useState)([]),F=(0,a.Z)(k,2),I=F[0],M=F[1],L=(0,c.useState)(null),P=(0,a.Z)(L,2),E=P[0],q=P[1],z=(0,c.useState)(""),T=(0,a.Z)(z,2),O=T[0],B=T[1],J=(0,c.useState)(!1),D=(0,a.Z)(J,2),H=D[0],Q=D[1],R=(0,c.useState)(1),U=(0,a.Z)(R,2),Y=U[0],G=U[1],$=(0,c.useState)(!1),K=(0,a.Z)($,2),N=K[0],V=K[1],W=(0,c.useState)(!1),X=(0,a.Z)(W,2),ee=X[0],ne=X[1],te=(0,c.useState)(""),re=(0,a.Z)(te,2),ae=re[0],ie=re[1],oe=null!==(e=d.get("page"))&&void 0!==e?e:1,ce=null!==(n=d.get("genreId"))&&void 0!==n?n:"",se=(0,s.Z)(j.r.breakpoints.down("lg"))?"small":"large",ue=function(e){e?(ne(!0),b.length&&(V(!0),v({query:ae,page:1,genreId:e}),M(b.filter((function(n){return n.genre_ids.includes(+e)}))),G(Math.ceil(I.length/20)))):V(!1)};(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.ld)(ae,oe);case 3:if((n=e.sent).total_results){e.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again");case 6:y(n.results),G(n.total_pages),B("resolved"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),q(e.t0),B("rejected");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}ae&&(!function(){e.apply(this,arguments)}(),B("pending"),q(null))}),[ae,oe]),(0,c.useEffect)((function(){ce&&M(b.filter((function(e){return e.genre_ids.includes(+ce)})))}),[ce,b]),(0,c.useEffect)((function(){ne(!1),I.length&&G(Math.ceil(I.length/20))}),[I]);return(0,h.jsxs)(C.$,{children:[(0,h.jsx)(_,{onSubmit:function(e){e.trim()?(ie(e),V(!1),v({query:e,page:1})):(A.Am.error("Enter a query to search!"),ie(""),v({}),V(!1),M([]))},onChange:y,handleFilter:ue,isTyping:Q}),O&&"resolved"===O&&!H&&(0,h.jsx)(f,{onChange:ue}),"pending"===O&&(0,h.jsx)(g.a,{}),"resolved"===O&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.Z,{movies:b,filtered:I,path:function(e){return"".concat(e)},wasFiltered:N,isFiltering:ee}),!N&&b.length||I.length?(0,h.jsx)(u.Z,{spacing:2,alignItems:"center",children:(0,h.jsx)(p.Z,{count:Y,shape:"rounded",showFirstButton:!0,showLastButton:!0,page:+oe,size:se,color:"opacity",onChange:function(e,n){v({query:ae,page:n})}})}):(0,h.jsx)(h.Fragment,{})]}),"rejected"===O&&(0,h.jsx)("h1",{children:E.message}),(0,h.jsx)(m.Z,{})]})}},8221:function(e,n,t){t.d(n,{Hg:function(){return u},JZ:function(){return k},Jh:function(){return g},Jx:function(){return b},TP:function(){return d},YQ:function(){return s},_r:function(){return m},ld:function(){return l},om:function(){return Z}});var r=t(5861),a=t(4687),i=t.n(a),o=t(1243),c="f5c750e62498ce7d84b29e02e1f941bc",s="https://image.tmdb.org/t/p/original/";function u(){return p.apply(this,arguments)}function p(){return p=(0,r.Z)(i().mark((function e(){var n,t,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,e.prev=1,e.next=4,o.Z.get("/trending/movie/day",{params:{api_key:"".concat(c),page:n}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),p.apply(this,arguments)}function l(){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(i().mark((function e(){var n,t,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"",t=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=2,e.next=5,o.Z.get("/search/movie",{params:{api_key:"".concat(c),query:n,page:t}});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),h.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(n),{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(n,"/credits"),{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(n,"/reviews"),{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(n,"/videos"),{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(n,"/images"),{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/genre/movie/list",{params:{api_key:"".concat(c)}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}o.Z.defaults.baseURL="https://api.themoviedb.org/3"},8905:function(e,n,t){t.d(n,{E:function(){return l},o:function(){return h}});var r,a,i=t(168),o=t(7691),c=t(2004),s=(c.A._,c.A.mobileL),u=c.A.tablet,p=c.A.desktop,l=o.ZP.div(r||(r=(0,i.Z)(["\n  margin: 30px 0;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  justify-content: center;\n  align-content: center;\n"]))),h=o.ZP.div(a||(a=(0,i.Z)(["\n  height: 8180px;\n\n  @media "," {\n    height: 1620px;\n  }\n  @media "," {\n    height: 1470px;\n  }\n\n  @media "," {\n    height: 1270px;\n  }\n"])),s,u,p)},3465:function(e,n,t){e.exports=t.p+"static/media/default-poster.42ccfac293cfe8fe887a.jpg"}}]);
//# sourceMappingURL=815.21c47776.chunk.js.map